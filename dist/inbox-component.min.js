var InboxComponent=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(){n=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",i=u.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function D(e,t,n,r){var u=t&&t.prototype instanceof d?t:d,a=Object.create(u.prototype),s=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(u,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===u)throw a;return w()}for(n.method=u,n.arg=a;;){var s=n.delegate;if(s){var i=_(s,n);if(i){if(i===l)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var o=c(e,t,n);if("normal"===o.type){if(r=n.done?"completed":"suspendedYield",o.arg===l)continue;return{value:o.arg,done:n.done}}"throw"===o.type&&(r="completed",n.method="throw",n.arg=o.arg)}}}(e,n,s),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=D;var l={};function d(){}function h(){}function f(){}var p={};o(p,a,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(x([])));m&&m!==t&&r.call(m,a)&&(p=m);var F=f.prototype=d.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(u,a,s,i){var o=c(e[u],e,a);if("throw"!==o.type){var D=o.arg,l=D.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,i)}),(function(e){n("throw",e,s,i)})):t.resolve(l).then((function(e){D.value=e,s(D)}),(function(e){return n("throw",e,s,i)}))}i(o.arg)}var u;this._invoke=function(e,r){function a(){return new t((function(t,u){n(e,r,t,u)}))}return u=u?u.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var u=r.arg;return u?u.done?(t[e.resultName]=u.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):u:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,u=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return u.next=u}}return{next:w}}function w(){return{value:void 0,done:!0}}return h.prototype=f,o(F,"constructor",f),o(f,"constructor",h),h.displayName=o(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,i,"GeneratorFunction")),e.prototype=Object.create(F),e},e.awrap=function(e){return{__await:e}},v(b.prototype),o(b.prototype,s,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,u,a){void 0===a&&(a=Promise);var s=new b(D(t,n,r,u),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},v(F),o(F,i,"Generator"),o(F,a,(function(){return this})),o(F,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=r.call(a,"catchLoc"),o=r.call(a,"finallyLoc");if(i&&o){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var u=this.tryEntries[n];if(u.tryLoc<=this.prev&&r.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var u=r.arg;y(n)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function r(e,t,n,r,u,a,s){try{var i=e[a](s),o=i.value}catch(e){return void n(e)}i.done?t(o):Promise.resolve(o).then(r,u)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(u,a){var s=e.apply(t,n);function i(e){r(s,u,a,i,o,"next",e)}function o(e){r(s,u,a,i,o,"throw",e)}i(void 0)}))}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,u,a=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);s=!0);}catch(e){i=!0,u=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw u}}return a}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function l(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var d=l((function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",u="second",a="minute",s="hour",i="day",o="week",D="month",c="quarter",l="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},F={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),u=n%60;return(t<=0?"+":"-")+m(r,2,"0")+":"+m(u,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),u=t.clone().add(r,D),a=n-u<0,s=t.clone().add(r+(a?-1:1),D);return+(-(r+(n-u)/(a?u-s:s-u))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:D,y:l,w:o,d:i,D:d,h:s,m:a,s:u,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=g;var _=function(e){return e instanceof x},C=function e(t,n,r){var u;if(!t)return v;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(u=a),n&&(b[a]=n,u=a);var s=t.split("-");if(!u&&s.length>1)return e(s[0])}else{var i=t.name;b[i]=t,u=i}return!r&&u&&(v=u),u||!r&&v},y=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new x(n)},E=F;E.l=C,E.i=_,E.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function g(e){this.$L=C(e.locale,null,!0),this.parse(e)}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var u=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],u,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],u,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(e,t){var n=y(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return y(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<y(e)},m.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,r=!!E.u(t)||t,c=E.p(e),h=function(e,t){var u=E.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?u:u.endOf(i)},f=function(e,t){return E.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,g=this.$M,m=this.$D,F="set"+(this.$u?"UTC":"");switch(c){case l:return r?h(1,0):h(31,11);case D:return r?h(1,g):h(0,g+1);case o:var v=this.$locale().weekStart||0,b=(p<v?p+7:p)-v;return h(r?m-b:m+(6-b),g);case i:case d:return f(F+"Hours",0);case s:return f(F+"Minutes",1);case a:return f(F+"Seconds",2);case u:return f(F+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var n,o=E.p(e),c="set"+(this.$u?"UTC":""),h=(n={},n[i]=c+"Date",n[d]=c+"Date",n[D]=c+"Month",n[l]=c+"FullYear",n[s]=c+"Hours",n[a]=c+"Minutes",n[u]=c+"Seconds",n[r]=c+"Milliseconds",n)[o],f=o===i?this.$D+(t-this.$W):t;if(o===D||o===l){var p=this.clone().set(d,1);p.$d[h](f),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[E.p(e)]()},m.add=function(r,c){var d,h=this;r=Number(r);var f=E.p(c),p=function(e){var t=y(h);return E.w(t.date(t.date()+Math.round(e*r)),h)};if(f===D)return this.set(D,this.$M+r);if(f===l)return this.set(l,this.$y+r);if(f===i)return p(1);if(f===o)return p(7);var g=(d={},d[a]=t,d[s]=n,d[u]=e,d)[f]||1,m=this.$d.getTime()+r*g;return E.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",u=E.z(this),a=this.$H,s=this.$m,i=this.$M,o=n.weekdays,D=n.months,c=function(e,n,u,a){return e&&(e[n]||e(t,r))||u[n].slice(0,a)},l=function(e){return E.s(a%12||12,e,"0")},d=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:i+1,MM:E.s(i+1,2,"0"),MMM:c(n.monthsShort,i,D,3),MMMM:c(D,i),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,o,2),ddd:c(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(a),HH:E.s(a,2,"0"),h:l(1),hh:l(2),a:d(a,s,!0),A:d(a,s,!1),m:String(s),mm:E.s(s,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:u};return r.replace(p,(function(e,t){return t||f[e]||u.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,h){var f,p=E.p(d),g=y(r),m=(g.utcOffset()-this.utcOffset())*t,F=this-g,v=E.m(this,g);return v=(f={},f[l]=v/12,f[D]=v,f[c]=v/3,f[o]=(F-m)/6048e5,f[i]=(F-m)/864e5,f[s]=F/n,f[a]=F/t,f[u]=F/e,f)[p]||F,h?v:E.a(v)},m.daysInMonth=function(){return this.endOf(D).$D},m.$locale=function(){return b[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),w=x.prototype;return y.prototype=w,[["$ms",r],["$s",u],["$m",a],["$H",s],["$W",i],["$M",D],["$y",l],["$D",d]].forEach((function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),y.extend=function(e,t){return e.$i||(e(t,x,y),e.$i=!0),y},y.locale=C,y.isDayjs=_,y.unix=function(e){return y(1e3*e)},y.en=b[v],y.Ls=b,y.p={},y}()})),h=d,f=l((function(e,t){var n,r,u;e.exports=(n="minute",r=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g,function(e,t,a){var s=t.prototype;a.utc=function(e){return new t({date:e,utc:!0,args:arguments})},s.utc=function(e){var t=a(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),n):t},s.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var i=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),i.call(this,e)};var o=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else o.call(this)};var D=s.utcOffset;s.utcOffset=function(e,t){var a=this.$utils().u;if(a(e))return this.$u?0:a(this.$offset)?D.call(this):this.$offset;if("string"==typeof e&&(e=function(e){void 0===e&&(e="");var t=e.match(r);if(!t)return null;var n=(""+t[0]).match(u)||["-",0,0],a=n[0],s=60*+n[1]+ +n[2];return 0===s?0:"+"===a?s:-s}(e),null===e))return this;var s=Math.abs(e)<=16?60*e:e,i=this;if(t)return i.$offset=s,i.$u=0===e,i;if(0!==e){var o=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(s+o,n)).$offset=s,i.$x.$localOffset=o}else i=this.utc();return i};var c=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var l=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var d=s.diff;s.diff=function(e,t,n){if(e&&this.$u===e.$u)return d.call(this,e,t,n);var r=this.local(),u=a(e).local();return d.call(r,u,t,n)}})})),p=l((function(e,t){var n,r;e.exports=(n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={},function(e,t,u){var a,s=function(e,t,n){void 0===n&&(n={});var u=new Date(e),a=function(e,t){void 0===t&&(t={});var n=t.timeZoneName||"short",u=e+"|"+n,a=r[u];return a||(a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:n}),r[u]=a),a}(t,n);return a.formatToParts(u)},i=function(e,t){for(var r=s(e,t),a=[],i=0;i<r.length;i+=1){var o=r[i],D=o.type,c=o.value,l=n[D];l>=0&&(a[l]=parseInt(c,10))}var d=a[3],h=24===d?0:d,f=a[0]+"-"+a[1]+"-"+a[2]+" "+h+":"+a[4]+":"+a[5]+":000",p=+e;return(u.utc(f).valueOf()-(p-=p%1e3))/6e4},o=t.prototype;o.tz=function(e,t){void 0===e&&(e=a);var n=this.utcOffset(),r=this.toDate(),s=r.toLocaleString("en-US",{timeZone:e}),i=Math.round((r-new Date(s))/1e3/60),o=u(s).$set("millisecond",this.$ms).utcOffset(15*-Math.round(r.getTimezoneOffset()/15)-i,!0);if(t){var D=o.utcOffset();o=o.add(n-D,"minute")}return o.$x.$timezone=e,o},o.offsetName=function(e){var t=this.$x.$timezone||u.tz.guess(),n=s(this.valueOf(),t,{timeZoneName:e}).find((function(e){return"timezonename"===e.type.toLowerCase()}));return n&&n.value};var D=o.startOf;o.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return D.call(this,e,t);var n=u(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return D.call(n,e,t).tz(this.$x.$timezone,!0)},u.tz=function(e,t,n){var r=n&&t,s=n||t||a,o=i(+u(),s);if("string"!=typeof e)return u(e).tz(s);var D=function(e,t,n){var r=e-60*t*1e3,u=i(r,n);if(t===u)return[r,t];var a=i(r-=60*(u-t)*1e3,n);return u===a?[r,u]:[e-60*Math.min(u,a)*1e3,Math.max(u,a)]}(u.utc(e,r).valueOf(),o,s),c=D[0],l=D[1],d=u(c).utcOffset(l);return d.$x.$timezone=s,d},u.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},u.tz.setDefault=function(e){a=e}})})),g=l((function(e,t){e.exports=function(e,t,n){var r=t.prototype,u=r.format;n.en.ordinal=function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},r.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return u.bind(this)(e);var r=this.$utils(),a=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return u.bind(this)(a)}}}));h.extend(f),h.extend(p),h.extend(g);var m={tz:"America/New_York",setTimezone:function(e){this.tz=e},getFriendlyTimezoneName:function(){return h().tz(this.tz).format("zzz")},statusType:function(e){switch(e.status){case"delivered":case"completed":case"received":return"success";case"sent":return"sent";case"failed":case"undelivered":return"failure";default:return"unknown"}},messageTime:function(e){var t=e.sent_at||e.created_at;return h(t).tz(this.tz).format("h:mm A")},messageDate:function(e){var t=e.sent_at||e.created_at;return h(t).tz(this.tz).format("M/D/YY")},tooltipTime:function(e){var t=e.sent_at||e.created_at;return h(t).tz(this.tz).format("h:mm:ss A z")},messageDetailTime:function(e){var t=e.sent_at||e.created_at;return h(t).tz(this.tz).format("M/D/YY h:mm:ss A z")},imageDetailTime:function(e){var t=e.sent_at||e.created_at;return h(t).tz(this.tz).format("dddd, D MMMM YYYY – h:mm:ss A")},formatDate:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?h(e).tz(this.tz).format("~ dddd, D MMMM YYYY ~"):h(e).format("~ dddd, D MMMM YYYY ~")},formatNumber:function(e){var t=(""+e).replace(/\D/g,"").match(/^\d{1}(\d{3})(\d{3})(\d{4})$/);return t?t[1]+"-"+t[2]+"-"+t[3]:e},messageClasses:function(e,t){var n=[];return n.push("inbound"===e.direction?"inbound":"outbound"),n.push(e.sender?"manual":"automated"),t&&n.push("ai-suggestion-selectable"),n},messageStatus:function(e){switch(e.status){case"queued":case"accepted":return"Text message queued for delivery";case"delivered":return"Text message delivered to carrier";case"sent":return"Text message sent to carrier";case"failed":case"undelivered":return"Text message was not delivered. Error "+e.error_code+": "+e.error_message;default:return e.status}},messageMetadata:function(e){return e.metadata.map((function(e){return e.message})).join("; ")},sortMessages:function(e){return e.sort((function(e,t){return(e.sent_at||e.created_at)>(t.sent_at||t.created_at)?1:(e.sent_at||e.created_at)<(t.sent_at||t.created_at)?-1:e.id>t.id?1:-1}))},getIconForStatus:function(e){switch(e){case"success":return{icon:"check-lg",variant:"success",scale:"1"};case"sent":return{icon:"arrow-bar-right",variant:"success",scale:"1.3"};case"failure":return{icon:"exclamation-triangle-fill",variant:"danger",scale:"1"};case"unknown":return{icon:"info-circle-fill",variant:"info",scale:"1"}}}},F=m,v=l((function(e,t){e.exports=function(e,t,n){e=e||{};var r=t.prototype,u={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(e,t,n,u){return r.fromToBase(e,t,n,u)}n.en.relativeTime=u,r.fromToBase=function(t,r,a,s,i){for(var o,D,c,l=a.$locale().relativeTime||u,d=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=d.length,f=0;f<h;f+=1){var p=d[f];p.d&&(o=s?n(t).diff(a,p.d,!0):a.diff(t,p.d,!0));var g=(e.rounding||Math.round)(Math.abs(o));if(c=o>0,g<=p.r||!p.r){g<=1&&f>0&&(p=d[f-1]);var m=l[p.l];i&&(g=i(""+g)),D="string"==typeof m?m.replace("%d",g):m(g,r,p.l,c);break}}if(r)return D;var F=c?l.future:l.past;return"function"==typeof F?F(D):F.replace("%s",D)},r.to=function(e,t){return a(e,t,this,!0)},r.from=function(e,t){return a(e,t,this)};var s=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(s(this),e)},r.fromNow=function(e){return this.from(s(this),e)}}}));h.extend(v);var b={session:null,conversation:null,setCurrentSession:function(e){this.session=e},setCurrentConversation:function(e){this.conversation=e},get isManualModeActive(){var e;return"Manual"===(null===(e=this.session)||void 0===e?void 0:e.mode)},get isAutomatedModeActive(){var e;return"Automated"===(null===(e=this.session)||void 0===e?void 0:e.mode)},get manualModeExpiration(){var e;if("Manual"===(null===(e=this.session)||void 0===e?void 0:e.mode)){var t=this.session.expires_at;return h(t).format("M/D/YYYY h:mm:ss A z")}},get sessionTimeRemaining(){var e;if(null!==(e=this.session)&&void 0!==e&&e.expires_at){var t=this.session.expires_at;return h(t).fromNow(!0)}},get isConversationActive(){var e;return!(null===(e=this.conversation)||void 0===e||!e.id)},get conversationExpiration(){if(this.conversation){var e=this.conversation.expires_at;return h(e).format("M/D/YYYY h:mm:ss A z")}},get conversationName(){if(this.conversation)return this.conversation.source_name}},_=function(){function e(t,n,r,u,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiBaseUrl=t,this.participantId=n,this.resource=r,this.studyId=u,this.auth=a,this.messagesObj={},this.selectedMessage=null,this.aiGeneratedResponse=null,this.meta={lastUpdated:null,oldest:null,pageSize:50},this.loading={older:!1,initial:!1,polling:!1,send:!1,suggestResponse:!1,refreshResponse:!1},this.imageCache={}}var r,i,o,D,c,l,d,f,p,g,m,v,_,C,y,E;return r=e,i=[{key:"authCredentials",value:function(){return"session"===this.auth.method?{credentials:"include"}:this.auth.apiKey.length>0?{headers:new Headers({Authorization:"Bearer "+this.auth.apiKey})}:void 0}},{key:"fetchImage",value:(E=u(n().mark((function e(t){var r,u,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.imageCache[t]){e.next=2;break}return e.abrupt("return",this.imageCache[t]);case 2:return r=this.authCredentials(),u=Object.assign(r,{method:"GET"}),e.next=6,fetch(t,u);case 6:return a=e.sent,e.next=9,a.blob();case 9:return s=e.sent,this.imageCache[t]=URL.createObjectURL(s),e.abrupt("return",this.imageCache[t]);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"getImageUrl",value:function(e,t){return"".concat(this.apiBaseUrl,"/api/v2/text_messages/").concat(e,"/image/").concat(t)}},{key:"enableManualMode",value:(y=u(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign(this.authCredentials(),{method:"POST",body:JSON.stringify({mode:"Manual",duration_mins:15})}),e.next=3,fetch("".concat(this.apiBaseUrl,"/api/v2/participants/").concat(this.participantId,"/messaging_mode_session"),t);case 3:return e.abrupt("return",this.loadMessages());case 4:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"disableManualMode",value:(C=u(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign(this.authCredentials(),{method:"PATCH",body:JSON.stringify([{op:"end"}])}),e.next=3,fetch("".concat(this.apiBaseUrl,"/api/v2/participants/").concat(this.participantId,"/messaging_mode_session"),t);case 3:return e.abrupt("return",this.loadMessages());case 4:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})},{key:"fetchMessages",value:(_=u(n().mark((function e(t){var r,u,a,s,i,o,D=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(D.length>1&&void 0!==D[1])||D[1],u=this.authCredentials(),a=Object.assign(u,{method:"GET"}),s=new URLSearchParams(Object.assign({study_id:this.studyId,participant_id:this.participantId,order_by:"desc(id)",per_page:this.meta.pageSize},t)),e.next=6,fetch("".concat(this.apiBaseUrl,"/api/v2/text_messages?")+s,a);case 6:if((i=e.sent).ok){e.next=9;break}throw new Error("womp");case 9:return e.next=11,i.json();case 11:return o=e.sent.data,e.abrupt("return",this.pullMessagesFromData(o,r));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"pullMessagesFromData",value:function(e){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(r&&(this.meta.lastUpdated=h().subtract(1,"second").format("YYYY-MM-DD HH:mm:ss")),e.length){var u=e.reduce((function(e,r){return(!n.meta.oldest||r.created_at<n.meta.oldest)&&(n.meta.oldest=r.created_at),t(t({},e),{},s({},r.id,r))}),{});this.messagesObj=Object.assign({},this.messagesObj,u)}}},{key:"loadMessages",value:(v=u(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading.initial){e.next=2;break}return e.abrupt("return",!1);case 2:return this.loading.initial=!0,e.next=5,this.loadMessagesViaParticipantApi("limit(".concat(this.meta.pageSize,")"));case 5:this.loading.initial=!1;case 6:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"poll",value:(m=u(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading.polling){e.next=2;break}return e.abrupt("return",!1);case 2:return this.loading.polling=!0,e.next=5,this.loadMessagesViaParticipantApi("updatedAfter(".concat(this.meta.lastUpdated,")"));case 5:this.loading.polling=!1;case 6:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"loadMessagesViaParticipantApi",value:(g=u(n().mark((function e(t){var r,u,a,s,i,o,D;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=this.authCredentials(),a=Object.assign(u,{method:"GET"}),s=["text_messages:".concat(t),"messaging_mode_session","current_conversation"],i="".concat(this.apiBaseUrl,"/api/v2/").concat(this.resource,"/").concat(this.participantId,"?include=").concat(s.join(",")),e.next=6,fetch(i,a);case 6:if((o=e.sent).ok){e.next=9;break}throw new Error("womp");case 9:return e.next=11,o.json();case 11:D=e.sent.data,F.setTimezone(null!==(r=null==D?void 0:D.time_zone_name)&&void 0!==r?r:"America/New_York"),b.setCurrentSession(null==D?void 0:D.messaging_mode_session),b.setCurrentConversation(null==D?void 0:D.current_conversation),this.pullMessagesFromData(D.text_messages,!0);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"loadOlder",value:(p=u(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading.older){e.next=2;break}return e.abrupt("return",!1);case 2:return t={created_at:"beforeOrEqual("+this.meta.oldest+")"},this.loading.older=!0,e.next=6,this.fetchMessages(t,!1);case 6:this.loading.older=!1;case 7:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"sendMessage",value:(f=u(n().mark((function e(t,r){var u,a,s,i,o,D;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading.send){e.next=2;break}return e.abrupt("return",!1);case 2:return u={message_text:t,media_url:r,force:!0},a=this.authCredentials(),s=Object.assign(a,{method:"POST",body:JSON.stringify(u)}),this.loading.send=!0,e.next=8,fetch("".concat(this.apiBaseUrl,"/api/v2/").concat(this.resource,"/").concat(this.participantId,"/text_messages"),s);case 8:if((i=e.sent).ok){e.next=12;break}throw this.loading.older=!1,new Error("womp");case 12:return e.next=14,i.json();case 14:o=e.sent.data,(D={})[o.id]=o,this.selectedMessage=null,this.messagesObj=Object.assign({},this.messagesObj,D),this.loading.send=!1;case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"sendSuggestedMessage",value:(d=u(n().mark((function e(t,r){var u,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.aiGeneratedResponse){e.next=2;break}return e.abrupt("return",!1);case 2:return u=[{op:"replace",path:"/final",value:t}],a=this.authCredentials(),s=Object.assign(a,{method:"PATCH",body:JSON.stringify(u)}),e.next=7,fetch("".concat(this.apiBaseUrl,"/api/v2/ai_response_requests/").concat(this.aiGeneratedResponse.id),s);case 7:if(e.sent.ok){e.next=11;break}throw this.loading.older=!1,new Error("womp");case 11:return e.next=13,this.sendMessage(t,r);case 13:this.aiGeneratedResponse=null,this.selectedMessage=null;case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"rejectSuggestedMessage",value:(l=u(n().mark((function e(t){var r,u,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.aiGeneratedResponse){e.next=2;break}return e.abrupt("return",!1);case 2:return r=[{op:"replace",path:"/review",value:"Rejected"},{op:"replace",path:"/comment",value:t}],u=this.authCredentials(),a=Object.assign(u,{method:"PATCH",body:JSON.stringify(r)}),e.next=7,fetch("".concat(this.apiBaseUrl,"/api/v2/ai_response_requests/").concat(this.aiGeneratedResponse.id),a);case 7:if(e.sent.ok){e.next=11;break}throw this.loading.older=!1,new Error("womp");case 11:this.aiGeneratedResponse=null,this.selectedMessage=null;case 13:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"refreshSuggestedMessage",value:(c=u(n().mark((function e(){var t,r,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading.refreshResponse){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.aiGeneratedResponse){e.next=4;break}return e.abrupt("return",!1);case 4:return this.loading.refreshResponse=!0,t=[{op:"replace",path:"/review",value:"Refreshed"}],r=this.authCredentials(),u=Object.assign(r,{method:"PATCH",body:JSON.stringify(t)}),e.next=10,fetch("".concat(this.apiBaseUrl,"/api/v2/ai_response_requests/").concat(this.aiGeneratedResponse.id),u);case 10:if(e.sent.ok){e.next=14;break}throw this.loading.older=!1,new Error("womp");case 14:return e.next=16,this.suggestResponse();case 16:this.loading.refreshResponse=!1;case 17:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"suggestResponse",value:(D=u(n().mark((function e(){var t,r,u,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loading.suggestResponse){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.selectedMessage){e.next=4;break}return e.abrupt("return",!1);case 4:return t={input:this.selectedMessage.message_text,participant_id:this.participantId},r=this.authCredentials(),u=Object.assign(r,{method:"POST",body:JSON.stringify(t)}),this.loading.suggestResponse=!0,e.next=10,fetch("".concat(this.apiBaseUrl,"/api/v2/ai_response_requests"),u);case 10:if((a=e.sent).ok){e.next=14;break}throw this.loading.suggestResponse=!1,new Error("womp");case 14:return e.next=16,a.json();case 16:this.aiGeneratedResponse=e.sent.data,this.loading.suggestResponse=!1;case 18:case"end":return e.stop()}}),e,this)}))),function(){return D.apply(this,arguments)})}],i&&a(r.prototype,i),o&&a(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(),C=_,y={inboxSubmit:"btn px-4 btn-primary mt-1",inboxSuggestResponse:"btn px-4 btn-secondary mt-1"},E={name:"LazyImage",props:{context:{type:String,validator:function(e){return["gallery","modal","inbox"].includes(e)},required:!0},store:{type:Object,required:!0},url:{type:String,required:!0}},data:function(){return{src:null}},computed:{loading:function(){return null===this.src},imageClass:function(){return"".concat(this.context,"-img")},style:function(){return{"background-image":"url(".concat(this.src,")")}}},mounted:function(){this.fetch()},methods:{fetch:function(){var e=this;return u(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.fetchImage(e.url);case 2:e.src=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}};function x(e,t,n,r,u,a,s,i,o,D){"boolean"!=typeof s&&(o=i,i=s,s=!1);const c="function"==typeof n?n.options:n;let l;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,u&&(c.functional=!0)),r&&(c._scopeId=r),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,o(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):t&&(l=s?function(e){t.call(this,D(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,i(e))}),l)if(c.functional){const e=c.render;c.render=function(t,n){return l.call(n),e(t,n)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,l):[l]}return n}const w="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function k(e){return(e,t)=>function(e,t){const n=w?t.media||"default":e,r=M[n]||(M[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===B&&(B=document.head||document.getElementsByTagName("head")[0]),B.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const e=r.ids.size-1,t=document.createTextNode(n),u=r.element.childNodes;u[e]&&r.element.removeChild(u[e]),u.length?r.element.insertBefore(t,u[e]):r.element.appendChild(t)}}}(e,t)}let B;const M={};var A=x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("div",{class:e.imageClass},[n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}})],1):n("div",["inbox"===e.context?n("div",{staticClass:"inbox-img",style:{"background-image":"url("+e.src+")"}}):n("img",{class:e.imageClass,attrs:{src:e.src,alt:"Image sent/received by text message"}})])},staticRenderFns:[]},(function(e){e&&e("data-v-cdc77716_0",{source:".inbox-img[data-v-cdc77716]{width:200px;height:200px;margin:20px 0;text-align:center;background-repeat:no-repeat;background-position:50% 50%;-webkit-background-size:cover;background-size:cover}.modal-img[data-v-cdc77716]{text-align:center;max-width:100%;max-height:80vh}.gallery-img[data-v-cdc77716]{max-width:100%;margin:10px 0}",map:void 0,media:void 0})}),E,"data-v-cdc77716",false,undefined,!1,k,void 0,void 0),$=x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:"image-lightbox",visible:e.value,centered:"","hide-footer":"",size:"lg",lazy:"","body-class":"d-flex justify-content-center",title:e.sentTime,"title-class":"text-center w-100"},on:{change:function(t){return e.$emit("input",t)}}},[e.value?n("LazyImage",{key:e.msgId+"_"+e.imageIndex,attrs:{store:e.store,context:"modal",url:e.store.getImageUrl(e.msgId,e.imageIndex)}}):e._e(),e._v(" "),e.showPreviousImageButton?n("span",{attrs:{id:"prev-btn"},on:{click:e.previousImage}},[e._v("❮")]):e._e(),e._v(" "),e.showNextImageButton?n("span",{attrs:{id:"next-btn"},on:{click:e.nextImage}},[e._v("❯")]):e._e()],1)},staticRenderFns:[]},(function(e){e&&e("data-v-8c1ad63a_0",{source:"#next-btn[data-v-8c1ad63a],#prev-btn[data-v-8c1ad63a]{cursor:pointer;position:absolute;top:50%;width:auto;padding:16px;margin-top:-50px;color:#fff;font-weight:700;font-size:20px;transition:.6s ease;user-select:none;-webkit-user-select:none;opacity:.3;background-color:#000}#prev-btn[data-v-8c1ad63a]{left:0;border-radius:3px 0 0 3px}#next-btn[data-v-8c1ad63a]{right:0;border-radius:0 3px 3px 0}#next-btn[data-v-8c1ad63a]:hover,#prev-btn[data-v-8c1ad63a]:hover{opacity:.8}",map:void 0,media:void 0})}),{name:"ImageLightbox",components:{LazyImage:A},props:{store:{type:Object,required:!0},value:{type:Boolean,required:!0}},data:function(){return{msgId:null,imageIndex:null,reverseDirection:!1}},computed:{images:function(){var e=[];return Object.values(this.store.messagesObj).forEach((function(t){t.media.forEach((function(n,r){e.push({msgId:t.id,imageIndex:r})}))})),this.reverseDirection?e.reverse():e},sentTime:function(){var e=this.store.messagesObj[this.msgId];return e?F.imageDetailTime(e):""},firstImage:function(){return this.images[0]},lastImage:function(){return this.images[this.images.length-1]},showPreviousImageButton:function(){return!!this.firstImage&&(this.msgId!==this.firstImage.msgId||this.imageIndex!==this.firstImage.imageIndex)},showNextImageButton:function(){return!!this.lastImage&&(this.msgId!==this.lastImage.msgId||this.imageIndex!==this.lastImage.imageIndex)}},methods:{open:function(e,t,n){this.msgId=e,this.imageIndex=t,this.reverseDirection=n},previousImage:function(){var e=this,t=this.images.findIndex((function(t){return t.msgId===e.msgId&&t.imageIndex===e.imageIndex}));t<=0||(this.msgId=this.images[t-1].msgId,this.imageIndex=this.images[t-1].imageIndex)},nextImage:function(){var e=this,t=this.images.findIndex((function(t){return t.msgId===e.msgId&&t.imageIndex===e.imageIndex}));t>=this.images.length-1||(this.msgId=this.images[t+1].msgId,this.imageIndex=this.images[t+1].imageIndex)}}},"data-v-8c1ad63a",false,undefined,!1,k,void 0,void 0),j=l((function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist-module/",t(t.s=3)}([function(e,t,n){var r=n(4)(n(1),n(5),null,null,null);e.exports=r.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),u=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};t.default={props:{search:{type:String,required:!1,default:""},emojiTable:{type:Object,required:!1,default:function(){return r.default}}},data:function(){return{display:{x:0,y:0,visible:!1}}},computed:{emojis:function(){if(this.search){var e={};for(var t in this.emojiTable){for(var n in e[t]={},this.emojiTable[t])new RegExp(".*"+u(this.search)+".*").test(n)&&(e[t][n]=this.emojiTable[t][n]);0===Object.keys(e[t]).length&&delete e[t]}return e}return this.emojiTable}},methods:{insert:function(e){this.$emit("emoji",e)},toggle:function(e){this.display.visible=!this.display.visible,this.display.x=e.clientX,this.display.y=e.clientY},hide:function(){this.display.visible=!1},escape:function(e){!0===this.display.visible&&27===e.keyCode&&(this.display.visible=!1)}},directives:{"click-outside":{bind:function(e,t,n){if("function"==typeof t.value){var r=t.modifiers.bubble,u=function(n){(r||!e.contains(n.target)&&e!==n.target)&&t.value(n)};e.__vueClickOutside__=u,document.addEventListener("click",u)}},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},mounted:function(){document.addEventListener("keyup",this.escape)},destroyed:function(){document.removeEventListener("keyup",this.escape)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Frequently used":{thumbs_up:"👍","-1":"👎",sob:"😭",confused:"😕",neutral_face:"😐",blush:"😊",heart_eyes:"😍"},People:{smile:"😄",smiley:"😃",grinning:"😀",blush:"😊",wink:"😉",heart_eyes:"😍",kissing_heart:"😘",kissing_closed_eyes:"😚",kissing:"😗",kissing_smiling_eyes:"😙",stuck_out_tongue_winking_eye:"😜",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue:"😛",flushed:"😳",grin:"😁",pensive:"😔",relieved:"😌",unamused:"😒",disappointed:"😞",persevere:"😣",cry:"😢",joy:"😂",sob:"😭",sleepy:"😪",disappointed_relieved:"😥",cold_sweat:"😰",sweat_smile:"😅",sweat:"😓",weary:"😩",tired_face:"😫",fearful:"😨",scream:"😱",angry:"😠",rage:"😡",triumph:"😤",confounded:"😖",laughing:"😆",yum:"😋",mask:"😷",sunglasses:"😎",sleeping:"😴",dizzy_face:"😵",astonished:"😲",worried:"😟",frowning:"😦",anguished:"😧",imp:"👿",open_mouth:"😮",grimacing:"😬",neutral_face:"😐",confused:"😕",hushed:"😯",smirk:"😏",expressionless:"😑",man_with_gua_pi_mao:"👲",man_with_turban:"👳",cop:"👮",construction_worker:"👷",guardsman:"💂",baby:"👶",boy:"👦",girl:"👧",man:"👨",woman:"👩",older_man:"👴",older_woman:"👵",person_with_blond_hair:"👱",angel:"👼",princess:"👸",smiley_cat:"😺",smile_cat:"😸",heart_eyes_cat:"😻",kissing_cat:"😽",smirk_cat:"😼",scream_cat:"🙀",crying_cat_face:"😿",joy_cat:"😹",pouting_cat:"😾",japanese_ogre:"👹",japanese_goblin:"👺",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",skull:"💀",alien:"👽",hankey:"💩",fire:"🔥",sparkles:"✨",star2:"🌟",dizzy:"💫",boom:"💥",anger:"💢",sweat_drops:"💦",droplet:"💧",zzz:"💤",dash:"💨",ear:"👂",eyes:"👀",nose:"👃",tongue:"👅",lips:"👄",thumbs_up:"👍","-1":"👎",ok_hand:"👌",facepunch:"👊",fist:"✊",wave:"👋",hand:"✋",open_hands:"👐",point_up_2:"👆",point_down:"👇",point_right:"👉",point_left:"👈",raised_hands:"🙌",pray:"🙏",clap:"👏",muscle:"💪",walking:"🚶",runner:"🏃",dancer:"💃",couple:"👫",family:"👪",couplekiss:"💏",couple_with_heart:"💑",dancers:"👯",ok_woman:"🙆",no_good:"🙅",information_desk_person:"💁",raising_hand:"🙋",massage:"💆",haircut:"💇",nail_care:"💅",bride_with_veil:"👰",person_with_pouting_face:"🙎",person_frowning:"🙍",bow:"🙇",tophat:"🎩",crown:"👑",womans_hat:"👒",athletic_shoe:"👟",mans_shoe:"👞",sandal:"👡",high_heel:"👠",boot:"👢",shirt:"👕",necktie:"👔",womans_clothes:"👚",dress:"👗",running_shirt_with_sash:"🎽",jeans:"👖",kimono:"👘",bikini:"👙",briefcase:"💼",handbag:"👜",pouch:"👝",purse:"👛",eyeglasses:"👓",ribbon:"🎀",closed_umbrella:"🌂",lipstick:"💄",yellow_heart:"💛",blue_heart:"💙",purple_heart:"💜",green_heart:"💚",broken_heart:"💔",heartpulse:"💗",heartbeat:"💓",two_hearts:"💕",sparkling_heart:"💖",revolving_hearts:"💞",cupid:"💘",love_letter:"💌",kiss:"💋",ring:"💍",gem:"💎",bust_in_silhouette:"👤",speech_balloon:"💬",footprints:"👣"},Nature:{dog:"🐶",wolf:"🐺",cat:"🐱",mouse:"🐭",hamster:"🐹",rabbit:"🐰",frog:"🐸",tiger:"🐯",koala:"🐨",bear:"🐻",pig:"🐷",pig_nose:"🐽",cow:"🐮",boar:"🐗",monkey_face:"🐵",monkey:"🐒",horse:"🐴",sheep:"🐑",elephant:"🐘",panda_face:"🐼",penguin:"🐧",bird:"🐦",baby_chick:"🐤",hatched_chick:"🐥",hatching_chick:"🐣",chicken:"🐔",snake:"🐍",turtle:"🐢",bug:"🐛",bee:"🐝",ant:"🐜",beetle:"🐞",snail:"🐌",octopus:"🐙",shell:"🐚",tropical_fish:"🐠",fish:"🐟",dolphin:"🐬",whale:"🐳",racehorse:"🐎",dragon_face:"🐲",blowfish:"🐡",camel:"🐫",poodle:"🐩",feet:"🐾",bouquet:"💐",cherry_blossom:"🌸",tulip:"🌷",four_leaf_clover:"🍀",rose:"🌹",sunflower:"🌻",hibiscus:"🌺",maple_leaf:"🍁",leaves:"🍃",fallen_leaf:"🍂",herb:"🌿",ear_of_rice:"🌾",mushroom:"🍄",cactus:"🌵",palm_tree:"🌴",chestnut:"🌰",seedling:"🌱",blossom:"🌼",new_moon:"🌑",first_quarter_moon:"🌓",moon:"🌔",full_moon:"🌕",first_quarter_moon_with_face:"🌛",crescent_moon:"🌙",earth_asia:"🌏",volcano:"🌋",milky_way:"🌌",stars:"🌠",partly_sunny:"⛅",snowman:"⛄",cyclone:"🌀",foggy:"🌁",rainbow:"🌈",ocean:"🌊"},Objects:{bamboo:"🎍",gift_heart:"💝",dolls:"🎎",school_satchel:"🎒",mortar_board:"🎓",flags:"🎏",fireworks:"🎆",sparkler:"🎇",wind_chime:"🎐",rice_scene:"🎑",jack_o_lantern:"🎃",ghost:"👻",santa:"🎅",christmas_tree:"🎄",gift:"🎁",tanabata_tree:"🎋",tada:"🎉",confetti_ball:"🎊",balloon:"🎈",crossed_flags:"🎌",crystal_ball:"🔮",movie_camera:"🎥",camera:"📷",video_camera:"📹",vhs:"📼",cd:"💿",dvd:"📀",minidisc:"💽",floppy_disk:"💾",computer:"💻",iphone:"📱",telephone_receiver:"📞",pager:"📟",fax:"📠",satellite:"📡",tv:"📺",radio:"📻",loud_sound:"🔊",bell:"🔔",loudspeaker:"📢",mega:"📣",hourglass_flowing_sand:"⏳",hourglass:"⌛",alarm_clock:"⏰",watch:"⌚",unlock:"🔓",lock:"🔒",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",mag_right:"🔎",bulb:"💡",flashlight:"🔦",electric_plug:"🔌",battery:"🔋",mag:"🔍",bath:"🛀",toilet:"🚽",wrench:"🔧",nut_and_bolt:"🔩",hammer:"🔨",door:"🚪",smoking:"🚬",bomb:"💣",gun:"🔫",hocho:"🔪",pill:"💊",syringe:"💉",moneybag:"💰",yen:"💴",dollar:"💵",credit_card:"💳",money_with_wings:"💸",calling:"📲","e-mail":"📧",inbox_tray:"📥",outbox_tray:"📤",envelope_with_arrow:"📩",incoming_envelope:"📨",mailbox:"📫",mailbox_closed:"📪",postbox:"📮",package:"📦",memo:"📝",page_facing_up:"📄",page_with_curl:"📃",bookmark_tabs:"📑",bar_chart:"📊",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",scroll:"📜",clipboard:"📋",date:"📅",calendar:"📆",card_index:"📇",file_folder:"📁",open_file_folder:"📂",pushpin:"📌",paperclip:"📎",straight_ruler:"📏",triangular_ruler:"📐",closed_book:"📕",green_book:"📗",blue_book:"📘",orange_book:"📙",notebook:"📓",notebook_with_decorative_cover:"📔",ledger:"📒",books:"📚",book:"📖",bookmark:"🔖",name_badge:"📛",newspaper:"📰",art:"🎨",clapper:"🎬",microphone:"🎤",headphones:"🎧",musical_score:"🎼",musical_note:"🎵",notes:"🎶",musical_keyboard:"🎹",violin:"🎻",trumpet:"🎺",saxophone:"🎷",guitar:"🎸",space_invader:"👾",video_game:"🎮",black_joker:"🃏",flower_playing_cards:"🎴",mahjong:"🀄",game_die:"🎲",dart:"🎯",football:"🏈",basketball:"🏀",soccer:"⚽",baseball:"⚾",tennis:"🎾","8ball":"🎱",bowling:"🎳",golf:"⛳",checkered_flag:"🏁",trophy:"🏆",ski:"🎿",snowboarder:"🏂",swimmer:"🏊",surfer:"🏄",fishing_pole_and_fish:"🎣",tea:"🍵",sake:"🍶",beer:"🍺",beers:"🍻",cocktail:"🍸",tropical_drink:"🍹",wine_glass:"🍷",fork_and_knife:"🍴",pizza:"🍕",hamburger:"🍔",fries:"🍟",poultry_leg:"🍗",meat_on_bone:"🍖",spaghetti:"🍝",curry:"🍛",fried_shrimp:"🍤",bento:"🍱",sushi:"🍣",fish_cake:"🍥",rice_ball:"🍙",rice_cracker:"🍘",rice:"🍚",ramen:"🍜",stew:"🍲",oden:"🍢",dango:"🍡",egg:"🍳",bread:"🍞",doughnut:"🍩",custard:"🍮",icecream:"🍦",ice_cream:"🍨",shaved_ice:"🍧",birthday:"🎂",cake:"🍰",cookie:"🍪",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",honey_pot:"🍯",apple:"🍎",green_apple:"🍏",tangerine:"🍊",cherries:"🍒",grapes:"🍇",watermelon:"🍉",strawberry:"🍓",peach:"🍑",melon:"🍈",banana:"🍌",pineapple:"🍍",sweet_potato:"🍠",eggplant:"🍆",tomato:"🍅",corn:"🌽"},Places:{house:"🏠",house_with_garden:"🏡",school:"🏫",office:"🏢",post_office:"🏣",hospital:"🏥",bank:"🏦",convenience_store:"🏪",love_hotel:"🏩",hotel:"🏨",wedding:"💒",church:"⛪",department_store:"🏬",city_sunrise:"🌇",city_sunset:"🌆",japanese_castle:"🏯",european_castle:"🏰",tent:"⛺",factory:"🏭",tokyo_tower:"🗼",japan:"🗾",mount_fuji:"🗻",sunrise_over_mountains:"🌄",sunrise:"🌅",night_with_stars:"🌃",statue_of_liberty:"🗽",bridge_at_night:"🌉",carousel_horse:"🎠",ferris_wheel:"🎡",fountain:"⛲",roller_coaster:"🎢",ship:"🚢",boat:"⛵",speedboat:"🚤",rocket:"🚀",seat:"💺",station:"🚉",bullettrain_side:"🚄",bullettrain_front:"🚅",metro:"🚇",railway_car:"🚃",bus:"🚌",blue_car:"🚙",car:"🚗",taxi:"🚕",truck:"🚚",rotating_light:"🚨",police_car:"🚓",fire_engine:"🚒",ambulance:"🚑",bike:"🚲",barber:"💈",busstop:"🚏",ticket:"🎫",traffic_light:"🚥",construction:"🚧",beginner:"🔰",fuelpump:"⛽",izakaya_lantern:"🏮",slot_machine:"🎰",moyai:"🗿",circus_tent:"🎪",performing_arts:"🎭",round_pushpin:"📍",triangular_flag_on_post:"🚩"},Symbols:{keycap_ten:"🔟",1234:"🔢",symbols:"🔣",capital_abcd:"🔠",abcd:"🔡",abc:"🔤",arrow_up_small:"🔼",arrow_down_small:"🔽",rewind:"⏪",fast_forward:"⏩",arrow_double_up:"⏫",arrow_double_down:"⏬",ok:"🆗",new:"🆕",up:"🆙",cool:"🆒",free:"🆓",ng:"🆖",signal_strength:"📶",cinema:"🎦",koko:"🈁",u6307:"🈯",u7a7a:"🈳",u6e80:"🈵",u5408:"🈴",u7981:"🈲",ideograph_advantage:"🉐",u5272:"🈹",u55b6:"🈺",u6709:"🈶",u7121:"🈚",restroom:"🚻",mens:"🚹",womens:"🚺",baby_symbol:"🚼",wc:"🚾",no_smoking:"🚭",u7533:"🈸",accept:"🉑",cl:"🆑",sos:"🆘",id:"🆔",no_entry_sign:"🚫",underage:"🔞",no_entry:"⛔",negative_squared_cross_mark:"❎",white_check_mark:"✅",heart_decoration:"💟",vs:"🆚",vibration_mode:"📳",mobile_phone_off:"📴",ab:"🆎",diamond_shape_with_a_dot_inside:"💠",ophiuchus:"⛎",six_pointed_star:"🔯",atm:"🏧",chart:"💹",heavy_dollar_sign:"💲",currency_exchange:"💱",x:"❌",exclamation:"❗",question:"❓",grey_exclamation:"❕",grey_question:"❔",o:"⭕",top:"🔝",end:"🔚",back:"🔙",on:"🔛",soon:"🔜",arrows_clockwise:"🔃",clock12:"🕛",clock1:"🕐",clock2:"🕑",clock3:"🕒",clock4:"🕓",clock5:"🕔",clock6:"🕕",clock7:"🕖",clock8:"🕗",clock9:"🕘",clock10:"🕙",clock11:"🕚",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",white_flower:"💮",100:"💯",radio_button:"🔘",link:"🔗",curly_loop:"➰",trident:"🔱",small_red_triangle:"🔺",black_square_button:"🔲",white_square_button:"🔳",red_circle:"🔴",large_blue_circle:"🔵",small_red_triangle_down:"🔻",white_large_square:"⬜",black_large_square:"⬛",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹"}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPickerPlugin=t.EmojiPicker=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),u={install:function(e){e.component("emoji-picker",r.default)}};"undefined"!=typeof window&&(window.EmojiPicker=u),t.EmojiPicker=r.default,t.EmojiPickerPlugin=u,t.default=r.default},function(e,t){e.exports=function(e,t,n,r,u){var a,s=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(a=e,s=e.default);var o,D="function"==typeof s?s.options:s;if(t&&(D.render=t.render,D.staticRenderFns=t.staticRenderFns),r&&(D._scopeId=r),u?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(u)},D._ssrRegister=o):n&&(o=n),o){var c=D.functional,l=c?D.render:D.beforeCreate;c?D.render=function(e,t){return o.call(t),l(e,t)}:D.beforeCreate=l?[].concat(l,o):[o]}return{esModule:a,exports:s,options:D}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("emoji-invoker",null,{events:{click:function(t){return e.toggle(t)}}}),e._v(" "),e.display.visible?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}]},[e._t("emoji-picker",null,{emojis:e.emojis,insert:e.insert,display:e.display})],2):e._e()],2)},staticRenderFns:[]}}])}));function S(e){return new RegExp("^((".concat(/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g.source,")|[ \n])+$")).test(e)}var O=x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("textarea",{ref:"textarea",staticClass:"form-control",attrs:{cols:"30",disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),e.showImageUploadInvoker?n("button",{staticClass:"image-upload-invoker",on:{click:function(t){return t.stopPropagation(),e.$emit("openImageUpload")}}},[n("svg",{staticClass:"h-6 w-6 fill-current text-grey",attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M96 896a32 32 0 01-32-32V160a32 32 0 0132-32h832a32 32 0 0132 32v704a32 32 0 01-32 32H96zm315.52-228.48l-68.928-68.928a32 32 0 00-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 00-49.216 0L458.752 665.408a32 32 0 01-47.232 2.112zM256 384a96 96 0 10192.064-.064A96 96 0 00256 384z"}})])]):e._e(),e._v(" "),n("emoji-picker",{attrs:{search:e.search},on:{emoji:e.insertEmoji},scopedSlots:e._u([{key:"emoji-invoker",fn:function(t){var r=t.events.click;return[n("button",{staticClass:"emoji-invoker",on:{click:function(e){return e.stopPropagation(),r.apply(null,arguments)}}},[n("svg",{staticClass:"h-6 w-6 fill-current text-grey",attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),n("path",{attrs:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}})])])]}},{key:"emoji-picker",fn:function(t){var r=t.emojis,u=t.insert;return[n("div",{staticClass:"emoji-picker"},[n("div",{staticClass:"emoji-picker__search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),n("div",e._l(r,(function(t,r){return n("div",{key:r},[n("h5",[e._v(e._s(r))]),e._v(" "),n("div",{staticClass:"emojis"},e._l(t,(function(t,r){return n("span",{key:r,attrs:{title:r},on:{click:function(e){return u(t)}}},[e._v(e._s(t))])})),0)])})),0)])]}}])})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-8b173f24_0",{source:'textarea[data-v-8b173f24]{resize:none}.wrapper[data-v-8b173f24]{position:relative}.emoji-invoker[data-v-8b173f24],.image-upload-invoker[data-v-8b173f24]{position:absolute;top:.5rem;width:1.5rem;height:1.5rem;border-radius:50%;cursor:pointer;transition:all .2s;padding:0;background:0 0;border:0}.emoji-invoker[data-v-8b173f24]{right:.5rem}.image-upload-invoker[data-v-8b173f24]{right:2.5rem}.emoji-invoker[data-v-8b173f24]:hover,.image-upload-invoker[data-v-8b173f24]:hover{transform:scale(1.1)}.emoji-invoker>svg[data-v-8b173f24],.image-upload-invoker>svg[data-v-8b173f24]{fill:#b1c6d0}.emoji-picker[data-v-8b173f24]{position:absolute;z-index:1;border:1px solid #ccc;width:17rem;right:0;height:20rem;overflow:scroll;padding:1rem;box-sizing:border-box;border-radius:.5rem;background:#fff;box-shadow:1px 1px 8px #c7dbe6}.emoji-picker__search[data-v-8b173f24]{display:flex}.emoji-picker__search>input[data-v-8b173f24]{flex:1;border-radius:10rem;border:1px solid #ccc;padding:.5rem 1rem;outline:0}.emoji-picker h5[data-v-8b173f24]{margin-bottom:0;color:#b1b1b1;text-transform:uppercase;font-size:.8rem;cursor:default}.emoji-picker .emojis[data-v-8b173f24]{display:flex;flex-wrap:wrap;justify-content:space-between}.emoji-picker .emojis[data-v-8b173f24]:after{content:"";flex:auto}.emoji-picker .emojis span[data-v-8b173f24]{padding:.2rem;cursor:pointer;border-radius:5px}.emoji-picker .emojis span[data-v-8b173f24]:hover{background:#ececec;cursor:pointer}',map:void 0,media:void 0})}),{name:"InputArea",components:{EmojiPicker:j.EmojiPicker},directives:{focus:{inserted:function(e){e.focus()}}},props:{disabled:{type:Boolean,default:!1},value:{type:String,required:!0},showImageUploadInvoker:{type:Boolean,default:!1}},data:function(){return{search:""}},watch:{value:function(e){this.resizeTextarea(e)}},methods:{insertEmoji:function(e){var t=this.$refs.textarea,n=t.selectionStart,r=t.selectionEnd,u=this.value.substring(0,n)+e+this.value.substring(r,this.value.length);this.$emit("input",u),t.focus(),this.$nextTick((function(){t.selectionStart=t.selectionEnd=n+e.length}))},resizeTextarea:function(e){var t=this.$refs.textarea;t.style.height="auto",t.style.fontSize=S(e)?"1.8rem":null,t.style.height="".concat(t.scrollHeight,"px")}}},"data-v-8b173f24",false,undefined,!1,k,void 0,void 0),I=O,T=x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container gallery-view"},[n("div",{staticClass:"row row-cols-2 row-cols-md-4"},e._l(e.messagesWithImages,(function(t){return n("div",{key:t.id,staticClass:"col mb-2"},[n("b-card",{staticClass:"h-100",attrs:{"body-class":"p-0 p-sm-1 p-md-3"}},[n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"time",attrs:{title:e.inboxHelper.messageDetailTime(t)}},[e._v(e._s(e.inboxHelper.messageDate(t)))]),e._v(" "),n("span",{staticClass:"status-icon"},[n("b-icon",{attrs:{id:"icon-"+t.id,icon:e.inboxHelper.getIconForStatus(e.inboxHelper.statusType(t)).icon,variant:e.inboxHelper.getIconForStatus(e.inboxHelper.statusType(t)).variant}})],1),e._v(" "),n("b-popover",{attrs:{target:"icon-"+t.id,title:"Text Message Details",triggers:"click blur",placement:"down"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n            Text Message Details\n          ")]},proxy:!0}],null,!0)},[e._v(" "),n("strong",[e._v("From:")]),e._v(" "+e._s(e.inboxHelper.formatNumber(t.from_number))),n("br"),e._v(" "),n("strong",[e._v("To:")]),e._v(" "+e._s(e.inboxHelper.formatNumber(t.to_number))),n("br"),e._v(" "),n("strong",[e._v("Status:")]),e._v(" "+e._s(e.inboxHelper.messageStatus(t))),n("br"),e._v(" "),n("strong",[e._v("Sent:")]),e._v(" "+e._s(e.inboxHelper.messageDetailTime(t))+"\n          "),t.metadata?n("span",[n("br"),n("strong",[e._v("Metadata:")]),e._v(" "+e._s(e.inboxHelper.messageMetadata(t))+"\n          ")]):e._e()]),e._v(" "),n("ul",{staticClass:"list-inline"},e._l(t.media,(function(r,u){return n("li",{key:r.sid,staticClass:"cursor-pointer"},[n("LazyImage",{attrs:{store:e.store,url:e.store.getImageUrl(t.id,u),context:"gallery"},nativeOn:{click:function(n){return e.$emit("openImageLightbox",t.id,u)}}})],1)})),0)],1)],1)})),0),e._v(" "),n("div",{staticClass:"text-center",class:{invisible:!e.showLoadMore}},[n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}})],1)])},staticRenderFns:[]},(function(e){e&&e("data-v-0b96e314_0",{source:".gallery-view .col[data-v-0b96e314]{padding:0 5px}",map:void 0,media:void 0})}),{name:"GalleryView",components:{LazyImage:A},props:{messagesWithImages:{type:Array,required:!0},inboxHelper:{type:Object,required:!0},store:{type:Object,required:!0},showLoadMore:{type:Boolean,required:!1}}},"data-v-0b96e314",false,undefined,!1,k,void 0,void 0),z=x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showLoadMore?n("div",{staticClass:"text-center"},[n("b-spinner",{attrs:{variant:"primary",label:"Spinning"}})],1):e._e(),e._v(" "),e._l(e.messagesByDate,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"date"},[e._v("\n      "+e._s(e.inboxHelper.formatDate(r,!1))+"\n    ")]),e._v(" "),e._l(t,(function(t){return n("div",{key:t.id},[t.sender?n("div",{staticClass:"sender"},[e._v("\n        "+e._s(t.sender)+"\n      ")]):e._e(),e._v(" "),n("div",{staticClass:"message-container",on:{click:function(n){return e.selectMessage(n,t)}}},[n("div",{staticClass:"message",class:e.inboxHelper.messageClasses(t,e.showAiIcon)},[n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"time",attrs:{title:e.inboxHelper.tooltipTime(t)}},[e._v(e._s(e.inboxHelper.messageTime(t)))]),e._v(" "),n("span",{staticClass:"status-icon"},[n("b-icon",{attrs:{id:"icon-"+t.id,icon:e.inboxHelper.getIconForStatus(e.inboxHelper.statusType(t)).icon,variant:e.inboxHelper.getIconForStatus(e.inboxHelper.statusType(t)).variant,"font-scale":e.inboxHelper.getIconForStatus(e.inboxHelper.statusType(t)).scale}})],1),e._v(" "),n("b-popover",{attrs:{target:"icon-"+t.id,title:"Text Message Details",triggers:"click blur",placement:"inbound"===t.direction?"right":"left"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n              Text Message Details\n            ")]},proxy:!0}],null,!0)},[e._v(" "),n("strong",[e._v("From:")]),e._v(" "+e._s(e.inboxHelper.formatNumber(t.from_number))),n("br"),e._v(" "),n("strong",[e._v("To:")]),e._v(" "+e._s(e.inboxHelper.formatNumber(t.to_number))),n("br"),e._v(" "),n("strong",[e._v("Status:")]),e._v(" "+e._s(e.inboxHelper.messageStatus(t))),n("br"),e._v(" "),n("strong",[e._v("Sent:")]),e._v(" "+e._s(e.inboxHelper.messageDetailTime(t))+"\n            "),t.metadata?n("span",[n("br"),n("strong",[e._v("Metadata:")]),e._v(" "+e._s(e.inboxHelper.messageMetadata(t))+"\n            ")]):e._e()]),e._v(" "),n("span",{class:{emojiOnly:e.isJustEmoji(t.message_text)},staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(t.message_text))]),e._v(" "),t.media.length>0?n("ul",{staticClass:"list-inline"},e._l(t.media,(function(r,u){return n("li",{key:r.sid,staticClass:"cursor-pointer"},[n("LazyImage",{attrs:{context:"inbox",store:e.store,url:e.store.getImageUrl(t.id,u)},nativeOn:{click:function(n){return e.$emit("openImageLightbox",t.id,u)}}})],1)})),0):e._e(),e._v(" "),e.showAiIcon&&"inbound"===t.direction&&e.store.selectedMessage&&e.store.selectedMessage.id===t.id?n("div",{staticClass:"stars-container",on:{click:function(t){t.stopPropagation(),!e.store.loading.suggestResponse&&e.$emit("suggestResponse")}}},[n("b-icon",{staticClass:"selected-icon",class:{"text-muted":e.store.loading.suggestResponse},attrs:{icon:"stars",scale:"2"}})],1):e._e()],1)])])}))],2)}))],2)},staticRenderFns:[]},(function(e){e&&e("data-v-56bf67bc_0",{source:'.date[data-v-56bf67bc]{clear:both;font-size:1.1em;color:gray;text-align:center}.message[data-v-56bf67bc]{position:relative;display:inline-block;min-width:150px;max-width:450px;padding:10px 18px;clear:both;vertical-align:top;border-radius:5px;-webkit-box-shadow:0 0 6px #b2b2b2;box-shadow:0 0 6px #b2b2b2}.emojiOnly[data-v-56bf67bc]{font-size:1.8em}div.sender[data-v-56bf67bc]{float:right;margin:0 20px 0 0;clear:both;font-size:12px;color:#6c6f76}.inbound[data-v-56bf67bc]{float:left;margin:5px 45px 5px 20px;background-color:#bdf9bd}.inbound[data-v-56bf67bc]::before{left:-9px;background-color:#bdf9bd;-webkit-box-shadow:-2px 2px 2px 0 rgba(178,178,178,.4);box-shadow:-2px 2px 2px 0 rgba(178,178,178,.4)}.inbound.ai-suggestion-selectable[data-v-56bf67bc]:hover{box-shadow:0 0 2px 20px rgba(0,100,0,.4)}.message-container.selected .inbound[data-v-56bf67bc]{box-shadow:0 0 2px 20px rgba(190,205,175,.4)}.message-container.selected .message .stars-container[data-v-56bf67bc]{position:absolute;left:100%;top:50%;transform:translateY(-50%);margin-left:25px;background:linear-gradient(135deg,#6366f1 0,#8b5cf6 25%,#d1d5db 50%,#6366f1 75%,#8b5cf6 100%);padding:12px;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.1);width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-size:400% 400%;cursor:pointer;transition:transform .2s ease}.message-container.selected .message .stars-container[data-v-56bf67bc]:hover:not(:has(.text-muted)){transform:translateY(-50%) scale(1.1);box-shadow:0 4px 8px rgba(0,0,0,.2)}.message-container.selected .message .stars-container[data-v-56bf67bc]:has(.text-muted){animation:gradientShift-data-v-56bf67bc 3s ease-in-out infinite}@keyframes gradientShift-data-v-56bf67bc{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}.message-container.selected .selected-icon[data-v-56bf67bc]{color:#fff;font-size:.875rem;margin:0;padding:0}.message[data-v-56bf67bc]::before{position:absolute;top:11px;display:block;width:20px;height:16px;content:"\\00a0";-webkit-transform:rotate(29deg) skew(-35deg);-moz-transform:rotate(29deg) skew(-35deg);-ms-transform:rotate(29deg) skew(-35deg);-o-transform:rotate(29deg) skew(-35deg);transform:rotate(29deg) skew(-35deg)}.outbound[data-v-56bf67bc]{float:right;margin:5px 20px 5px 45px;background-color:#badfff}.outbound[data-v-56bf67bc]::before{right:-9px;-webkit-box-shadow:2px -2px 2px 0 rgb(178 178 178 / 40%);box-shadow:2px -2px 2px 0 rgb(178 178 178 / 40%);background-color:#badfff}.outbound.automated[data-v-56bf67bc],.outbound.automated[data-v-56bf67bc]::before{background-color:#e0f1ff}.outbound.manual[data-v-56bf67bc],.outbound.manual[data-v-56bf67bc]::before{background-color:#badfff}.message-container[data-v-56bf67bc]{position:relative;display:inline-block;width:100%}.message-container .inbound[data-v-56bf67bc]{float:left}.message-container .outbound[data-v-56bf67bc]{float:right}',map:void 0,media:void 0})}),{name:"MessageView",components:{LazyImage:A},props:{messagesByDate:{type:[Object,Array],required:!0},inboxHelper:{type:Object,required:!0},store:{type:Object,required:!0},showLoadMore:{type:Boolean,required:!1},showAiIcon:{type:Boolean,required:!1}},data:function(){return{isJustEmoji:S}},methods:{selectMessage:function(e,t){if(this.showAiIcon&&"inbound"===t.direction){var n,r=null===(n=this.$el)||void 0===n?void 0:n.querySelector(".message-container.selected");r&&(r.classList.remove("selected"),this.store.selectedMessage=null),r!==e.currentTarget&&(e.currentTarget.classList.add("selected"),this.store.selectedMessage=t)}}}},"data-v-56bf67bc",false,undefined,!1,k,void 0,void 0),R={name:"InboxComponent",components:{ManualModeToggle:x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-2"},[n("ManualModeWarningModal",{attrs:{visible:e.showWarningModal},on:{ok:function(t){return e.store.enableManualMode()}}}),e._v(" "),e.helper.session?n("b-form-checkbox",{attrs:{checked:!e.helper.isManualModeActive,switch:""},on:{change:e.toggleManualMode}},[e._v("\n    Automated Messaging Mode\n  ")]):e._e(),e._v(" "),e.helper.isManualModeActive?n("div",{staticClass:"alert alert-warning"},[n("strong",[e._v("All automated text message processing is temporarily disabled")]),e._v(", including conversations\n    (scheduled or ongoing), auto-responders, and incidents. Automated messaging mode will resume\n    in "),n("abbr",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],attrs:{title:e.helper.manualModeExpiration}},[e._v(e._s(e.helper.sessionTimeRemaining))]),e._v(".\n  ")]):e.helper.isConversationActive?n("div",{staticClass:"alert alert-warning"},[n("strong",[e._v(e._s(e.helper.conversationName))]),e._v(" conversation in progress until\n    "),n("strong",[e._v(e._s(e.helper.conversationExpiration))]),e._v('. Disabling\n    "Automated Messaging Mode" will stop this conversation and any automated responses.\n  ')]):e.helper.isAutomatedModeActive?n("div",{staticClass:"alert alert-success"},[e._v("\n    Any incoming texts from this participant will be processed by the study's configured message handlers.\n  ")]):e._e()],1)},staticRenderFns:[]},undefined,{name:"ManualModeToggle",components:{ManualModeWarningModal:x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",e._g({attrs:{title:"WARNING!",visible:e.visible}},e.$listeners),[n("p",[n("strong",[e._v("You are about to disable automated messaging for this participant.")])]),e._v(" "),n("p",[e._v("By disabling automated messaging:")]),e._v(" "),n("ul",[n("li",[e._v("Any open conversations will be stopped")]),e._v(" "),n("li",[e._v("Scheduled text messages and conversations will not be sent to the participant")]),e._v(" "),n("li",[e._v("Text messages sent via logic will not be sent to the participants")]),e._v(" "),n("li",[e._v("Incoming text messages from the participant will not be processed by configured Responses")]),e._v(" "),n("li",[e._v("\n      Incidents that would be created if an incoming message triggered a configured Response will not be created\n    ")])]),e._v(" "),n("p",[e._v("Automated messaging will remain disabled until manually re-enabled, or 15 minutes of inactivity.")]),e._v(" "),n("p",[n("strong",[e._v('By clicking "OK", you are accepting responsibility for the above operations normally performed by the\n      system.')])])])},staticRenderFns:[]},undefined,{name:"ManualModeWarningModal",props:{visible:{type:Boolean,required:!0}}},undefined,false,undefined,!1,void 0,void 0,void 0)},props:{store:{type:Object,required:!0},helper:{type:Object,required:!0}},data:function(){return{showWarningModal:!1}},mounted:function(){var e=this;setInterval((function(){e.$forceUpdate()}),3e4)},methods:{toggleManualMode:function(e){"Manual"===(e?"Automated":"Manual")?this.showWarningModal=!0:this.store.disableManualMode()}}},undefined,false,undefined,!1,void 0,void 0,void 0),GalleryView:T,InputArea:I,ImageLightbox:$,MessageView:z,AiResponseRequestRejectModal:x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:"reject-comment-modal",title:"Reject AI Suggested Response"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){t.ok;var r=t.cancel;return[n("b-button",{attrs:{size:"sm",variant:"success"},on:{click:e.onSubmit}},[e._v("\n      Submit\n    ")]),e._v(" "),n("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return r()}}},[e._v("\n      Cancel\n    ")])]}}])},[n("p",[n("strong",[e._v("Please select a reason for rejecting this response and click submit.")])]),e._v(" "),n("b-form-select",{attrs:{options:e.rejectOptions},model:{value:e.rejectComment,callback:function(t){e.rejectComment=t},expression:"rejectComment"}}),e._v(" "),"other"===e.rejectComment?n("b-form-input",{staticClass:"mt-2",attrs:{placeholder:"Enter reason for rejection"},model:{value:e.otherValue,callback:function(t){e.otherValue=t},expression:"otherValue"}}):e._e()],1)},staticRenderFns:[]},undefined,{name:"AiResponseRequestRejectModal",props:{store:{type:Object,required:!0}},data:function(){return{rejectComment:null,otherValue:null,rejectOptions:[{value:null,text:"Please select an option"},{value:"incorrect",text:"The response is factually incorrect"},{value:"incomplete",text:"The response is incomplete"},{value:"other",text:"Other"}]}},methods:{onSubmit:function(){var e=this;return u(n().mark((function t(){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"other"===(r=e.rejectComment)&&(r=e.otherValue),e.$emit("submit",r);case 3:case"end":return t.stop()}}),t)})))()}}},undefined,false,undefined,!1,void 0,void 0,void 0)},props:{auth:{type:Object,required:!1,default:function(){return{method:"session",apiKey:""}}},pollFrequencySeconds:{type:Number,required:!1,default:10},apiBaseUrl:{type:String,required:!0},studyId:{type:Number,required:!0},participantId:{type:Number,required:!0},resource:{type:String,default:"participants",validator:function(e){return["participants","support_partners"].includes(e)}},imageUploadEnabled:{type:Boolean,default:!1},manualModeEnabled:{type:Boolean,default:!1},aiSuggestionsEnabled:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},styles:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{scrolled:!1,styleConfig:Object.assign(y,this.styles),store:null,inboxHelper:F,manualModeHelper:b,textContent:"",imageUrl:"",imageName:"",showImageUploader:!1,showImageLightbox:!1,galleryView:!1}},computed:{disableTextInput:function(){return!!this.store.loading.send||!!this.store.loading.suggestResponse||!!this.store.loading.refreshResponse},sortedMessages:function(){return Object.keys(this.store.messagesObj).length>0?this.inboxHelper.sortMessages(Object.values(this.store.messagesObj)):[]},messagesByDate:function(){return this.sortedMessages.length?this.sortedMessages.reduce((function(e,t){return(e[t.created_at.split(" ")[0]]=e[t.created_at.split(" ")[0]]||[]).push(t),e}),{}):[]},messagesWithImages:function(){return Object.values(this.store.messagesObj).filter((function(e){return e.media.length>0})).reverse()},latestMessageId:function(){return Math.max.apply(Math,o(Object.keys(this.store.messagesObj)))}},watch:{latestMessageId:function(){var e=this;this.$nextTick((function(){e.scrollToNewest("smooth")}))},galleryView:function(){var e=this;this.$nextTick((function(){e.scrollToNewest()}))}},created:function(){var e=this;return u(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.store=new C(e.apiBaseUrl,e.participantId,e.resource,e.studyId,e.auth),e.store.loadMessages().then((function(){e.scrollToNewest()})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){this.scrolled||(this.scrollToNewest(),this.scrolled=!0),this.handleLoadMore(),this.poll()},methods:{attachImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Attachment";this.imageUrl=e,this.imageName=t},removeAttachment:function(){this.imageUrl="",this.imageName=""},openImageUpload:function(){this.showImageUploader=!0},openImageLightbox:function(e,t){this.showImageLightbox=!0,this.$refs.imageLightbox.open(e,t,this.galleryView)},openRejectCommentModal:function(){this.$bvModal.show("reject-comment-modal")},scrollToNewest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=this.$el.querySelector(".inbox"),n=this.galleryView?0:t.scrollHeight;t.scrollTo?t.scrollTo({top:n,behavior:e}):t.scrollTop=n},handleLoadMore:function(){var e,t=this,n=null===(e=this.$el)||void 0===e?void 0:e.querySelector(".inbox");n.onscroll=function(){n&&(t.galleryView?n.scrollTop>=n.scrollHeight-n.clientHeight-1&&t.store.loadOlder():0===n.scrollTop&&t.store.loadOlder())}},sendMessage:function(){var e=this;return u(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.textContent.length&&!e.imageUrl){t.next=7;break}return t.next=3,e.store.sendMessage(e.textContent,e.imageUrl);case 3:e.scrollToNewest("smooth"),e.textContent="",e.imageUrl="",e.imageName="";case 7:case"end":return t.stop()}}),t)})))()},sendSuggestedResponse:function(){var e=this;return u(n().mark((function t(){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.textContent.length||!e.store.aiGeneratedResponse){t.next=8;break}return t.next=3,e.store.sendSuggestedMessage(e.textContent,e.imageUrl);case 3:null===(r=e.$el)||void 0===r||r.querySelector(".message-container.selected").classList.remove("selected"),e.scrollToNewest("smooth"),e.textContent="",e.imageUrl="",e.imageName="";case 8:case"end":return t.stop()}}),t)})))()},rejectSuggestedResponse:function(e){var t=this;return u(n().mark((function r(){var u;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.store.aiGeneratedResponse){n.next=8;break}return n.next=3,t.store.rejectSuggestedMessage(e);case 3:null===(u=t.$el)||void 0===u||u.querySelector(".message-container.selected").classList.remove("selected"),t.textContent="",t.imageUrl="",t.imageName="",t.$bvModal.hide("reject-comment-modal");case 8:case"end":return n.stop()}}),r)})))()},refreshSuggestedResponse:function(){var e=this;return u(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.refreshSuggestedMessage();case 2:e.textContent=e.store.aiGeneratedResponse.response;case 3:case"end":return t.stop()}}),t)})))()},suggestResponse:function(){var e=this;return u(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.suggestResponse();case 2:e.textContent=e.store.aiGeneratedResponse.response;case 3:case"end":return t.stop()}}),t)})))()},poll:function(){var e=this;setTimeout((function(){e.store.poll(),e.poll()}),1e3*this.pollFrequencySeconds)}}},L=x({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inbox-component"},[n("div",{staticClass:"float-right"},[n("b-form-checkbox",{staticClass:"float-right mr-2",attrs:{switch:""},model:{value:e.galleryView,callback:function(t){e.galleryView=t},expression:"galleryView"}},[e._v("\n      Media View\n    ")])],1),e._v(" "),n("p",[e._v("\n    All texts are displayed in the participant's current time zone: "+e._s(e.inboxHelper.getFriendlyTimezoneName())+"\n  ")]),e._v(" "),n("div",[n("div",{staticClass:"inbox clearfix"},[e.galleryView?n("GalleryView",{attrs:{"messages-with-images":e.messagesWithImages,store:e.store,"inbox-helper":e.inboxHelper,"show-load-more":e.store.loading.older},on:{openImageLightbox:e.openImageLightbox}}):n("MessageView",{attrs:{"messages-by-date":e.messagesByDate,"inbox-helper":e.inboxHelper,store:e.store,"show-load-more":e.store.loading.older,"show-ai-icon":!e.readOnly&&e.aiSuggestionsEnabled},on:{openImageLightbox:e.openImageLightbox,suggestResponse:e.suggestResponse}})],1)]),e._v(" "),n("ImageLightbox",{ref:"imageLightbox",attrs:{store:e.store},model:{value:e.showImageLightbox,callback:function(t){e.showImageLightbox=t},expression:"showImageLightbox"}}),e._v(" "),e.manualModeEnabled?n("ManualModeToggle",{attrs:{store:e.store,helper:e.manualModeHelper}}):e._e(),e._v(" "),n("AiResponseRequestRejectModal",{attrs:{store:e.store},on:{submit:e.rejectSuggestedResponse}}),e._v(" "),e.readOnly?e._e():n("div",[e._t("imagePicker",null,{attachImage:e.attachImage,onClose:function(){return e.showImageUploader=!1},isOpen:e.showImageUploader}),e._v(" "),n("InputArea",{attrs:{disabled:e.disableTextInput,"show-image-upload-invoker":e.imageUploadEnabled&&!e.imageUrl},on:{openImageUpload:function(t){e.showImageUploader=!0}},model:{value:e.textContent,callback:function(t){e.textContent=t},expression:"textContent"}}),e._v(" "),e.store.aiGeneratedResponse?n("div",{staticClass:"inbox-action-items mt-1"},[n("b-button",{attrs:{variant:"primary",disabled:e.store.loading.send},on:{click:e.sendSuggestedResponse}},[n("b-icon",{attrs:{icon:"hand-thumbs-up"}}),e._v("\n        Send\n      ")],1),e._v(" "),n("b-button",{attrs:{variant:"danger",disabled:e.store.loading.send},on:{click:e.openRejectCommentModal}},[n("b-icon",{attrs:{icon:"hand-thumbs-down"}}),e._v("\n        Reject\n      ")],1),e._v(" "),n("b-button",{class:{"refresh-button":!0,selected:e.store.selectedMessage,loading:e.store.loading.refreshResponse},attrs:{variant:"secondary",disabled:e.store.loading.send},on:{click:e.refreshSuggestedResponse}},[n("b-icon",{attrs:{icon:"recycle"}}),e._v("\n        Refresh\n        "),e.store.loading.refreshResponse?n("b-spinner",{attrs:{small:"",variant:"light",label:"Spinning"}}):e._e()],1)],1):n("div",{staticClass:"inbox-action-items"},[e.imageUrl?n("div",[n("h4",[e._v("Attachments")]),e._v(" "),n("ul",{staticClass:"list-unstyled"},[n("li",[n("span",{staticClass:"filename"},[e._v(e._s(e.imageName))]),e._v(" "),n("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:e.removeAttachment}},[n("span",{staticClass:"fa fa-trash text-danger"}),e._v(" "),n("span",{staticClass:"sr-only"},[e._v("Remove")])])])])]):e._e(),e._v(" "),e.store.loading.send?n("div",{staticClass:"disabled",class:e.styleConfig.inboxSubmit},[e._v("\n        Send SMS Message\n        "),n("b-spinner",{attrs:{small:"",variant:"light",label:"Spinning"}})],1):n("input",{class:e.styleConfig.inboxSubmit,attrs:{type:"submit",value:"Send SMS Message",disabled:e.store.loading.send},on:{click:e.sendMessage}}),e._v(" "),e.aiSuggestionsEnabled&&e.store.selectedMessage&&!e.store.loading.suggestResponse?n("input",{class:[e.styleConfig.inboxSuggestResponse,"suggest-response-button",{selected:e.store.selectedMessage,loading:e.store.loading.suggestResponse}],attrs:{type:"submit",value:"Suggest Response",disabled:e.store.loading.suggestResponse&&!e.store.selectedMessage},on:{click:e.suggestResponse}}):e.aiSuggestionsEnabled&&!e.store.selectedMessage||e.store.loading.suggestResponse?n("div",{class:[e.styleConfig.inboxSuggestResponse,"suggest-response-button",{selected:e.store.selectedMessage,loading:e.store.loading.suggestResponse}],attrs:{id:"ai-response-info"}},[e._v("\n        Suggest Response\n        "),e.store.loading.suggestResponse?n("b-spinner",{attrs:{small:"",variant:"light",label:"Spinning"}}):e._e(),e._v(" "),e.store.selectedMessage?e._e():n("span",[n("b-icon",{staticClass:"ml-1",attrs:{id:"ai-response-info-icon",icon:"info-circle-fill",variant:"dark","font-scale":"1"}})],1),e._v(" "),n("b-popover",{attrs:{target:"ai-response-info",title:"AI generated responses are enabled",triggers:"click blur",placement:"right"}},[e._v('\n          Select an inbound message above and click "Suggest Response" to generate a response.\n        ')])],1):e._e()])],2)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-38d8394c_0",{source:".inbox[data-v-38d8394c]{max-height:60vh;min-height:60vh;overflow-x:hidden;overflow-y:scroll;border-bottom:2px solid rgba(0,0,0,.2)}@media print{.inbox[data-v-38d8394c]{max-height:none;height:auto}}[data-v-38d8394c] .time{float:right;margin:0 3px 0;color:gray}[data-v-38d8394c] .status-icon{float:left;cursor:pointer;margin:0 3px 0}[data-v-38d8394c] .cursor-pointer{cursor:pointer}[data-v-38d8394c] .suggest-response-button{border:none;padding:8px 16px;border-radius:4px;cursor:pointer;transition:all .3s ease}[data-v-38d8394c] .suggest-response-button.selected{background:linear-gradient(135deg,#6366f1 0,#8b5cf6 25%,#d1d5db 50%,#6366f1 75%,#8b5cf6 100%);background-size:400% 400%;color:#fff}[data-v-38d8394c] .suggest-response-button.selected.loading{animation:gradientShift-data-v-38d8394c 3s ease-in-out infinite}@keyframes gradientShift-data-v-38d8394c{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}[data-v-38d8394c] .refresh-button{border:none;padding:8px 16px;border-radius:4px;cursor:pointer;transition:all .3s ease}[data-v-38d8394c] .refresh-button.selected{background:linear-gradient(135deg,#6366f1 0,#8b5cf6 25%,#d1d5db 50%,#6366f1 75%,#8b5cf6 100%);background-size:400% 400%;color:#fff}[data-v-38d8394c] .refresh-button.selected.loading{animation:gradientShift-data-v-38d8394c 3s ease-in-out infinite}",map:void 0,media:void 0})}),R,"data-v-38d8394c",false,undefined,!1,k,void 0,void 0);function N(e){N.installed||(N.installed=!0,e.component("InboxComponent",L))}var H={install:N},U=null;"undefined"!=typeof window?U=window.Vue:"undefined"!=typeof global&&(U=global.Vue),U&&U.use(H);var Y=Object.freeze({__proto__:null,install:N,default:L});return Object.entries(Y).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];"default"!==n&&(component[n]=r)})),L}();